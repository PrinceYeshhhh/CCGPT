# CustomerCareGPT Staging Environment Configuration
# Copy this file to .env.staging and fill in your actual values

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENVIRONMENT=staging
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database URL (REQUIRED)
DATABASE_URL=postgresql://username:password@staging-host:port/database_name

# Database Pool Configuration
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=60
DB_POOL_RECYCLE=1800

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis URL (REQUIRED)
REDIS_URL=redis://username:password@staging-redis:port/database

# Redis Configuration
REDIS_PASSWORD=your_staging_redis_password
REDIS_MAX_CONNECTIONS=50
REDIS_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_KEEPALIVE=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Secrets (REQUIRED - Generate strong random strings)
SECRET_KEY=your-staging-secret-key-here
JWT_SECRET=your-staging-jwt-secret-here

# CORS Configuration (REQUIRED)
CORS_ORIGINS=["https://staging.yourdomain.com","https://app-staging.yourdomain.com"]
ALLOWED_HOSTS=["staging.yourdomain.com","app-staging.yourdomain.com","api-staging.yourdomain.com"]

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Google Gemini API (REQUIRED)
GEMINI_API_KEY=your_gemini_api_key_here

# ChromaDB Configuration (REQUIRED)
CHROMA_URL=https://staging-chromadb.yourdomain.com
CHROMA_PERSIST_DIRECTORY=/chroma/chroma
CHROMA_AUTH_CREDENTIALS=your_staging_chromadb_auth_credentials

# =============================================================================
# STRIPE BILLING CONFIGURATION
# =============================================================================
# Stripe API Keys (Use test keys for staging)
STRIPE_API_KEY=sk_test_your_stripe_test_key
STRIPE_WEBHOOK_SECRET=whsec_your_staging_webhook_secret

# Stripe URLs (REQUIRED)
STRIPE_SUCCESS_URL=https://staging.yourdomain.com/billing/success
STRIPE_CANCEL_URL=https://staging.yourdomain.com/billing/cancel

# Stripe Price IDs (Test price IDs)
STRIPE_STARTER_PRICE_ID=price_starter_test_id
STRIPE_PRO_PRICE_ID=price_pro_test_id
STRIPE_ENTERPRISE_PRICE_ID=price_enterprise_test_id

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# Email Provider (ses, sendgrid, or smtp)
EMAIL_PROVIDER=ses

# AWS SES Configuration
FROM_EMAIL=noreply-staging@yourdomain.com
SES_FROM_EMAIL=noreply-staging@yourdomain.com

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Storage Backend (s3, gcs, or local)
USE_S3=true
USE_GCS=false

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your_staging_aws_access_key
AWS_SECRET_ACCESS_KEY=your_staging_aws_secret_key
AWS_REGION=us-east-1
S3_BUCKET_NAME=your-staging-s3-bucket-name

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Sentry Error Tracking (REQUIRED for staging)
SENTRY_DSN=https://your-staging-sentry-dsn@sentry.io/project-id

# Prometheus Metrics
PROMETHEUS_ENABLED=true
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true

# =============================================================================
# API CONFIGURATION
# =============================================================================
# Base URLs (REQUIRED)
PUBLIC_BASE_URL=https://api-staging.yourdomain.com
API_BASE_URL=https://api-staging.yourdomain.com

# =============================================================================
# SECURITY FEATURES
# =============================================================================
# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_CSP=true
ENABLE_HSTS=true

# Rate Limiting (More lenient for staging)
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS=120
RATE_LIMIT_WINDOW=60
RATE_LIMIT_WORKSPACE_PER_MIN=200
RATE_LIMIT_EMBED_PER_MIN=120

# Input Validation
ENABLE_INPUT_VALIDATION=true
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# WIDGET CONFIGURATION
# =============================================================================
WIDGET_DEFAULT_TITLE=Customer Support (Staging)
WIDGET_DEFAULT_PLACEHOLDER=Ask me anything...
WIDGET_DEFAULT_PRIMARY_COLOR=#4f46e5
WIDGET_DEFAULT_SECONDARY_COLOR=#f8f9fa
WIDGET_DEFAULT_TEXT_COLOR=#111111
WIDGET_DEFAULT_POSITION=bottom-right
WIDGET_DEFAULT_MAX_MESSAGES=50
WIDGET_DEFAULT_Z_INDEX=10000

# =============================================================================
# ADMIN CONFIGURATION
# =============================================================================
ADMIN_EMAIL=admin-staging@yourdomain.com

# =============================================================================
# NOTES
# =============================================================================
# 1. Use test/staging versions of external services
# 2. Use separate databases and storage buckets for staging
# 3. More lenient rate limits for testing
# 4. Monitor staging environment closely
# 5. Use staging for integration testing before production deployment
