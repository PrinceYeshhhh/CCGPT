# ============================================
# CustomerCareGPT Environment Variables
# ============================================
# Copy this file to .env and update with your actual values
# Generated from comprehensive codebase analysis

# ============================================
# REQUIRED VARIABLES - MUST BE SET
# ============================================

# Database Configuration
DATABASE_URL=postgresql+psycopg2://user:password@host:5432/customercaregpt
POSTGRES_DB=customercaregpt
POSTGRES_USER=customercaregpt
POSTGRES_PASSWORD=secure-password

# Redis Configuration
REDIS_URL=redis://customercaregpt-redis.xxxxx.cache.amazonaws.com:6379
REDIS_PASSWORD=secure-redis-password

# ChromaDB Vector Database
CHROMA_URL=https://customercaregpt-chromadb-xxxxx-uc.a.run.app
CHROMA_PERSIST_DIRECTORY=/chroma/chroma
CHROMA_AUTH_CREDENTIALS=your-chroma-auth-credentials
CHROMA_SETTINGS={"anonymized_telemetry": false}

# Security & Authentication
SECRET_KEY=your-secret-key-here-change-in-production
JWT_SECRET=your-jwt-secret-key-here-change-in-production
ALGORITHM=HS256

# AI & LLM
GEMINI_API_KEY=your-gemini-api-key

# Stripe Payment
STRIPE_API_KEY=sk_test_your_stripe_api_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_STARTER_PRICE_ID=price_starter
STRIPE_PRO_PRICE_ID=price_pro
STRIPE_ENTERPRISE_PRICE_ID=price_enterprise
STRIPE_WHITE_LABEL_PRICE_ID=price_white_label

# Application Settings
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
PUBLIC_BASE_URL=https://customercaregpt-backend-xxxxx-uc.a.run.app
API_BASE_URL=https://customercaregpt-backend-xxxxx-uc.a.run.app

# CORS Configuration
CORS_ORIGINS=https://customercaregpt-frontend.vercel.app,https://customercaregpt-frontend-git-main.vercel.app
ALLOWED_HOSTS=customercaregpt-backend-xxxxx-uc.a.run.app,customercaregpt-frontend.vercel.app

# Email Provider
EMAIL_PROVIDER=ses
SES_FROM_EMAIL=noreply@customercaregpt.com

# Secrets Management
SECRETS_PROVIDER=env

# ============================================
# OPTIONAL VARIABLES - DEFAULTS PROVIDED
# ============================================

# Database Pool Configuration
DB_POOL_SIZE=50
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=60
DB_POOL_RECYCLE=1800
READ_REPLICA_URLS=

# Redis Pool Configuration
REDIS_MAX_CONNECTIONS=100
REDIS_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_KEEPALIVE=true
RQ_QUEUE_NAME=default

# Queue Configuration
HIGH_PRIORITY_QUEUE=high_priority
NORMAL_QUEUE=normal
LOW_PRIORITY_QUEUE=low_priority

# JWT Configuration
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ISSUER=customercaregpt
JWT_AUDIENCE=customercaregpt-users
ENCRYPTION_KEY=

# Password Security
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL_CHARS=true
PASSWORD_HISTORY_COUNT=5

# Account Security
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15
SESSION_TIMEOUT_MINUTES=30
REQUIRE_EMAIL_VERIFICATION=true
REQUIRE_PHONE_VERIFICATION=true

# Stripe Configuration
STRIPE_SUCCESS_URL=https://customercaregpt-frontend.vercel.app/billing/success
STRIPE_CANCEL_URL=https://customercaregpt-frontend.vercel.app/billing/cancel
BILLING_DEFAULT_TIER=starter

# Email Configuration
SENDGRID_API_KEY=
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
FROM_EMAIL=noreply@customercaregpt.com
ADMIN_EMAIL=admin@customercaregpt.com

# SMS/OTP Provider
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=
AWS_SNS_REGION=us-east-1

# File Upload
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=application/pdf,text/plain,text/markdown
UPLOAD_DIR=uploads

# S3 Storage (Optional)
USE_S3=false
S3_BUCKET_NAME=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# Rate Limiting
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60
RATE_LIMIT_WORKSPACE_PER_MIN=100
RATE_LIMIT_EMBED_PER_MIN=60

# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_CSP=true
ENABLE_HSTS=true
ENABLE_RATE_LIMITING=true
ENABLE_INPUT_VALIDATION=true
ENABLE_REQUEST_LOGGING=true
ENABLE_CORS=true

# CORS Headers
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Authorization,Content-Type,X-Client-API-Key,X-Embed-Code-ID,X-Workspace-ID,Origin,Referer

# Monitoring
SENTRY_DSN=
PROMETHEUS_ENABLED=true
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true

# Vector Cache Configuration
VECTOR_CACHE_TTL=600
VECTOR_CACHE_MAX_SIZE=1000

# Embedding Configuration
EMBEDDING_MODEL_NAME=all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=32
EMBEDDING_CACHE_SIZE=1000

# Vector Search Configuration
VECTOR_SEARCH_DEFAULT_TOP_K=5
VECTOR_SEARCH_SIMILARITY_THRESHOLD=0.7
VECTOR_SEARCH_CACHE_TTL=3600

# RAG Configuration
RAG_DEFAULT_TOP_K=6
RAG_MAX_CONTEXT_LENGTH=4000
RAG_CONFIDENCE_THRESHOLD=0.5

# Chat Configuration
CHAT_MAX_MESSAGES=50
CHAT_SESSION_TIMEOUT=3600
CHAT_TYPING_INDICATOR_DELAY=1000

# Widget Configuration
WIDGET_DEFAULT_TITLE=Customer Support
WIDGET_DEFAULT_PLACEHOLDER=Ask me anything...
WIDGET_DEFAULT_WELCOME_MESSAGE=Hello! How can I help you today?
WIDGET_DEFAULT_PRIMARY_COLOR=#4f46e5
WIDGET_DEFAULT_SECONDARY_COLOR=#f8f9fa
WIDGET_DEFAULT_TEXT_COLOR=#111111
WIDGET_DEFAULT_POSITION=bottom-right
WIDGET_DEFAULT_MAX_MESSAGES=50
WIDGET_DEFAULT_Z_INDEX=10000

# WebSocket Configuration
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_PING_TIMEOUT=10
WEBSOCKET_MAX_RECONNECT_ATTEMPTS=5

# API Configuration
API_V1_PREFIX=/api/v1

# Multi-language Support
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr,de,it,pt,ru,zh,ja,ko
AUTO_DETECT_LANGUAGE=true

# Analytics Configuration
ANALYTICS_ENABLED=true
ANALYTICS_RETENTION_DAYS=90
ANALYTICS_BATCH_SIZE=100

# A/B Testing Configuration
AB_TESTING_ENABLED=true
AB_TESTING_DEFAULT_TRAFFIC_SPLIT=0.5

# Token Budget
DAILY_TOKEN_LIMIT=10000
MONTHLY_TOKEN_LIMIT=100000

# Chunking Settings
MAX_CHUNK_TOKENS=600
CHUNK_OVERLAP_TOKENS=100

# Pagination
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# Request Settings
MAX_REQUEST_SIZE=10485760

# Gunicorn
GUNICORN_WORKERS=4

# ============================================
# FRONTEND VARIABLES (for Vercel)
# ============================================
# These are set in Vercel dashboard or frontend/.env.local

# VITE_API_URL=https://customercaregpt-backend-xxxxx-uc.a.run.app/api/v1
# VITE_WS_URL=wss://customercaregpt-backend-xxxxx-uc.a.run.app/ws
# VITE_ANALYTICS_ID=your-analytics-id
# VITE_SENTRY_DSN=your-sentry-dsn
# VITE_DEMO_MODE=false

# ============================================
# SECRETS MANAGEMENT (Production)
# ============================================
# Uncomment and configure for production secrets management

# AWS Secrets Manager
# AWS_REGION=us-east-1

# Azure Key Vault
# AZURE_KEY_VAULT_URL=https://your-vault.vault.azure.net/

# HashiCorp Vault
# VAULT_URL=https://vault.customercaregpt.com
# VAULT_TOKEN=your-vault-token
# VAULT_SECRET_PATH=secret

# ============================================
# DEVELOPMENT OVERRIDES
# ============================================
# Uncomment for local development

# ENVIRONMENT=development
# DEBUG=true
# DATABASE_URL=sqlite:///./dev.db
# REDIS_URL=redis://localhost:6379
# CHROMA_URL=http://localhost:8001
# CORS_ORIGINS=http://localhost:3000,http://localhost:5173
# ALLOWED_HOSTS=localhost,127.0.0.1