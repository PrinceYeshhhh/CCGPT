# CustomerCareGPT Production Environment Configuration
# Copy this file to .env.production and fill in your actual values

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database URL (REQUIRED)
DATABASE_URL=postgresql://username:password@host:port/database_name

# Database Pool Configuration
DB_POOL_SIZE=50
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=60
DB_POOL_RECYCLE=1800

# Read Replica URLs (optional, for scaling)
READ_REPLICA_URLS=["postgresql://readonly:password@replica1:5432/database_name"]

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis URL (REQUIRED)
REDIS_URL=redis://username:password@host:port/database

# Redis Configuration
REDIS_PASSWORD=your_redis_password
REDIS_MAX_CONNECTIONS=100
REDIS_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_KEEPALIVE=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Secrets (REQUIRED - Generate strong random strings)
SECRET_KEY=your-super-secret-key-here-change-this-in-production
JWT_SECRET=your-jwt-secret-key-here-change-this-in-production

# Encryption Key (optional, for additional encryption)
ENCRYPTION_KEY=your-encryption-key-here

# CORS Configuration (REQUIRED)
CORS_ORIGINS=["https://yourdomain.com","https://app.yourdomain.com"]
ALLOWED_HOSTS=["yourdomain.com","app.yourdomain.com","api.yourdomain.com"]

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Google Gemini API (REQUIRED)
GEMINI_API_KEY=your_gemini_api_key_here

# ChromaDB Configuration (REQUIRED)
CHROMA_URL=https://your-chromadb-instance.com
CHROMA_PERSIST_DIRECTORY=/chroma/chroma
CHROMA_AUTH_CREDENTIALS=your_chromadb_auth_credentials

# =============================================================================
# STRIPE BILLING CONFIGURATION
# =============================================================================
# Stripe API Keys (REQUIRED for billing)
STRIPE_API_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe URLs (REQUIRED)
STRIPE_SUCCESS_URL=https://yourdomain.com/billing/success
STRIPE_CANCEL_URL=https://yourdomain.com/billing/cancel

# Stripe Price IDs
STRIPE_STARTER_PRICE_ID=price_starter_id
STRIPE_PRO_PRICE_ID=price_pro_id
STRIPE_ENTERPRISE_PRICE_ID=price_enterprise_id

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# Email Provider (ses, sendgrid, or smtp)
EMAIL_PROVIDER=ses

# AWS SES Configuration
FROM_EMAIL=noreply@yourdomain.com
SES_FROM_EMAIL=noreply@yourdomain.com

# SendGrid Configuration (if using SendGrid)
SENDGRID_API_KEY=your_sendgrid_api_key

# SMTP Configuration (if using SMTP)
SMTP_SERVER=smtp.yourdomain.com
SMTP_PORT=587
SMTP_USERNAME=smtp_username
SMTP_PASSWORD=smtp_password

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Storage Backend (s3, gcs, or local)
USE_S3=true
USE_GCS=false

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
S3_BUCKET_NAME=your-s3-bucket-name

# Google Cloud Storage Configuration
GCS_BUCKET_NAME=your-gcs-bucket-name

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Sentry Error Tracking (REQUIRED for production)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Prometheus Metrics
PROMETHEUS_ENABLED=true
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true

# =============================================================================
# API CONFIGURATION
# =============================================================================
# Base URLs (REQUIRED)
PUBLIC_BASE_URL=https://api.yourdomain.com
API_BASE_URL=https://api.yourdomain.com

# =============================================================================
# SECURITY FEATURES
# =============================================================================
# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_CSP=true
ENABLE_HSTS=true

# Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60
RATE_LIMIT_WORKSPACE_PER_MIN=100
RATE_LIMIT_EMBED_PER_MIN=60

# Input Validation
ENABLE_INPUT_VALIDATION=true
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=["application/pdf","text/plain","text/markdown","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]

# =============================================================================
# VECTOR SEARCH CONFIGURATION
# =============================================================================
VECTOR_CACHE_TTL=600
VECTOR_CACHE_MAX_SIZE=1000
VECTOR_SEARCH_DEFAULT_TOP_K=5
VECTOR_SEARCH_SIMILARITY_THRESHOLD=0.7
VECTOR_SEARCH_CACHE_TTL=3600

# =============================================================================
# RAG CONFIGURATION
# =============================================================================
RAG_DEFAULT_TOP_K=6
RAG_MAX_CONTEXT_LENGTH=4000
RAG_CONFIDENCE_THRESHOLD=0.5

# =============================================================================
# CHAT CONFIGURATION
# =============================================================================
CHAT_MAX_MESSAGES=50
CHAT_SESSION_TIMEOUT=3600
CHAT_TYPING_INDICATOR_DELAY=1000

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_PING_TIMEOUT=10
WEBSOCKET_MAX_RECONNECT_ATTEMPTS=5

# =============================================================================
# ANALYTICS CONFIGURATION
# =============================================================================
ANALYTICS_ENABLED=true
ANALYTICS_RETENTION_DAYS=90
ANALYTICS_BATCH_SIZE=100

# =============================================================================
# SMS/OTP CONFIGURATION
# =============================================================================
# SMS Provider (twilio or sns)
SMS_PROVIDER=twilio

# Twilio Configuration
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_FROM_NUMBER=+1234567890

# AWS SNS Configuration
AWS_SNS_REGION=us-east-1

# =============================================================================
# WIDGET CONFIGURATION
# =============================================================================
WIDGET_DEFAULT_TITLE=Customer Support
WIDGET_DEFAULT_PLACEHOLDER=Ask me anything...
WIDGET_DEFAULT_PRIMARY_COLOR=#4f46e5
WIDGET_DEFAULT_SECONDARY_COLOR=#f8f9fa
WIDGET_DEFAULT_TEXT_COLOR=#111111
WIDGET_DEFAULT_POSITION=bottom-right
WIDGET_DEFAULT_MAX_MESSAGES=50
WIDGET_DEFAULT_Z_INDEX=10000

# =============================================================================
# MULTI-LANGUAGE SUPPORT
# =============================================================================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=["en","es","fr","de","it","pt","ru","zh","ja","ko"]
AUTO_DETECT_LANGUAGE=true

# =============================================================================
# A/B TESTING
# =============================================================================
AB_TESTING_ENABLED=true
AB_TESTING_DEFAULT_TRAFFIC_SPLIT=0.5

# =============================================================================
# TOKEN LIMITS
# =============================================================================
DAILY_TOKEN_LIMIT=10000
MONTHLY_TOKEN_LIMIT=100000

# =============================================================================
# EMBEDDING CONFIGURATION
# =============================================================================
EMBEDDING_MODEL_NAME=all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=32
EMBEDDING_CACHE_SIZE=1000

# =============================================================================
# CHUNKING CONFIGURATION
# =============================================================================
MAX_CHUNK_TOKENS=512
CHUNK_OVERLAP_TOKENS=50

# =============================================================================
# ADMIN CONFIGURATION
# =============================================================================
ADMIN_EMAIL=admin@yourdomain.com

# =============================================================================
# NOTES
# =============================================================================
# 1. Replace all placeholder values with your actual production values
# 2. Generate strong, random secrets for SECRET_KEY and JWT_SECRET
# 3. Ensure all URLs use HTTPS in production
# 4. Test all external service integrations before deploying
# 5. Monitor logs and metrics after deployment
# 6. Keep this file secure and never commit it to version control