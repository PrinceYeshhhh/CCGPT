# ============================================
# CustomerCareGPT Local Development Environment
# ============================================
# This file is for local development only
# Copy this to .env for local testing

# ============================================
# REQUIRED VARIABLES - MUST BE SET
# ============================================

# Database Configuration (Local SQLite)
DATABASE_URL=sqlite:///./dev.db
POSTGRES_DB=customercaregpt
POSTGRES_USER=customercaregpt
POSTGRES_PASSWORD=local-dev-password

# Redis Configuration (Local Redis)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# Vector Database (Local ChromaDB)
CHROMA_URL=http://localhost:8001
CHROMA_AUTH_CREDENTIALS=

# API Keys (Use test keys for local development)
GEMINI_API_KEY=your-gemini-api-key-here
SECRET_KEY=local-development-secret-key-change-in-production-32-chars
JWT_SECRET=local-jwt-secret-key-change-in-production-32-chars

# Stripe Configuration (Test keys)
STRIPE_API_KEY=sk_test_your_stripe_test_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_test_webhook_secret_here
STRIPE_SUCCESS_URL=http://localhost:3000/billing/success
STRIPE_CANCEL_URL=http://localhost:3000/billing/cancel
STRIPE_STARTER_PRICE_ID=price_starter_test_id
STRIPE_PRO_PRICE_ID=price_pro_test_id
STRIPE_ENTERPRISE_PRICE_ID=price_enterprise_test_id
STRIPE_WHITE_LABEL_PRICE_ID=price_white_label_test_id

# ============================================
# LOCAL DEVELOPMENT CONFIGURATION
# ============================================

# Environment
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=DEBUG

# Database Pool Configuration
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=5
DB_POOL_TIMEOUT=60
DB_POOL_RECYCLE=1800

# Redis Configuration
REDIS_MAX_CONNECTIONS=50
REDIS_RETRY_ON_TIMEOUT=True
REDIS_SOCKET_KEEPALIVE=True
RQ_QUEUE_NAME=default
HIGH_PRIORITY_QUEUE=high_priority
NORMAL_QUEUE=normal
LOW_PRIORITY_QUEUE=low_priority

# ChromaDB Configuration
CHROMA_PERSIST_DIRECTORY=./data/chroma
CHROMA_SETTINGS={"anonymized_telemetry": false}

# JWT Security Configuration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ISSUER=customercaregpt-local
JWT_AUDIENCE=customercaregpt-users-local
ENCRYPTION_KEY=

# Password Security
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=True
PASSWORD_REQUIRE_LOWERCASE=True
PASSWORD_REQUIRE_NUMBERS=True
PASSWORD_REQUIRE_SPECIAL_CHARS=True
PASSWORD_HISTORY_COUNT=3

# Account Security
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=5
SESSION_TIMEOUT_MINUTES=60
REQUIRE_EMAIL_VERIFICATION=False
REQUIRE_PHONE_VERIFICATION=False

# Email Provider (Local SMTP for testing)
EMAIL_PROVIDER=smtp
SES_FROM_EMAIL=noreply@localhost.com
SENDGRID_API_KEY=
SMTP_SERVER=localhost
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
FROM_EMAIL=noreply@localhost.com
ADMIN_EMAIL=admin@localhost.com

# SMS/OTP Provider (Disabled for local)
SMS_PROVIDER=
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=
AWS_SNS_REGION=us-east-1

# Application URLs (Local)
PUBLIC_BASE_URL=http://localhost:8000
API_BASE_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# CORS Settings (Local)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# Secrets Management
SECRETS_PROVIDER=env
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AZURE_KEY_VAULT_URL=
VAULT_URL=http://localhost:8200
VAULT_TOKEN=
VAULT_SECRET_PATH=secret

# Storage Configuration (Local)
USE_S3=False
UPLOAD_DIR=./uploads
S3_BUCKET_NAME=
AWS_REGION=us-east-1

# Security Headers
ENABLE_SECURITY_HEADERS=True
ENABLE_CSP=False
ENABLE_HSTS=False

# Monitoring (Disabled for local)
SENTRY_DSN=
PROMETHEUS_ENABLED=False
METRICS_ENABLED=False
HEALTH_CHECK_ENABLED=True

# Vector Cache Configuration
VECTOR_CACHE_TTL=300
VECTOR_CACHE_MAX_SIZE=100

# Production Security Flags (Relaxed for local)
ENABLE_RATE_LIMITING=False
ENABLE_INPUT_VALIDATION=True
ENABLE_REQUEST_LOGGING=True
ENABLE_CORS=True

# File Upload
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=["application/pdf", "text/plain", "text/markdown"]

# Rate Limiting (Relaxed for local)
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=60
RATE_LIMIT_WORKSPACE_PER_MIN=1000
RATE_LIMIT_EMBED_PER_MIN=1000

# Token Budget (High for local testing)
DAILY_TOKEN_LIMIT=100000
MONTHLY_TOKEN_LIMIT=1000000

# Embedding Configuration
EMBEDDING_MODEL_NAME=all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=16
EMBEDDING_CACHE_SIZE=100

# Vector Search Configuration
VECTOR_SEARCH_DEFAULT_TOP_K=5
VECTOR_SEARCH_SIMILARITY_THRESHOLD=0.7
VECTOR_SEARCH_CACHE_TTL=1800

# RAG Configuration
RAG_DEFAULT_TOP_K=6
RAG_MAX_CONTEXT_LENGTH=4000
RAG_CONFIDENCE_THRESHOLD=0.5

# Chat Configuration
CHAT_MAX_MESSAGES=100
CHAT_SESSION_TIMEOUT=7200
CHAT_TYPING_INDICATOR_DELAY=1000

# Widget Configuration
WIDGET_DEFAULT_TITLE=Customer Support
WIDGET_DEFAULT_PLACEHOLDER=Ask me anything...
WIDGET_DEFAULT_WELCOME_MESSAGE=Hello! How can I help you today?
WIDGET_DEFAULT_PRIMARY_COLOR=#4f46e5
WIDGET_DEFAULT_SECONDARY_COLOR=#f8f9fa
WIDGET_DEFAULT_TEXT_COLOR=#111111
WIDGET_DEFAULT_POSITION=bottom-right
WIDGET_DEFAULT_MAX_MESSAGES=100
WIDGET_DEFAULT_Z_INDEX=10000

# WebSocket Configuration
WEBSOCKET_MAX_CONNECTIONS=100
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_PING_TIMEOUT=10
WEBSOCKET_MAX_RECONNECT_ATTEMPTS=5

# API Configuration
API_V1_PREFIX=/api/v1

# Multi-language Support
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=["en", "es", "fr", "de", "it", "pt", "ru", "zh", "ja", "ko"]
AUTO_DETECT_LANGUAGE=True

# Analytics Configuration
ANALYTICS_ENABLED=False
ANALYTICS_RETENTION_DAYS=7
ANALYTICS_BATCH_SIZE=10

# A/B Testing Configuration
AB_TESTING_ENABLED=False
AB_TESTING_DEFAULT_TRAFFIC_SPLIT=0.5

# Testing
TESTING=false

# Gunicorn Configuration (Not used in local development)
GUNICORN_WORKERS=1
